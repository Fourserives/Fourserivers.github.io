<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>凡尘的个人博客 - 小视野看大世界</title><meta name="author" content="Chen"><meta name="copyright" content="Chen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="凡尘的个人博客">
<meta property="og:url" content="https://fourserives.github.io/page/2/index.html">
<meta property="og:site_name" content="凡尘的个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Chen">
<meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://fourserives.github.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '凡尘的个人博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-05-21 21:55:10'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">37</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/yx/wallhaven-yx83mg.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">凡尘的个人博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">凡尘的个人博客</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/Fourserives" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/10/26/unity%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/" title="unity内容整理"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity内容整理"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/26/unity%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/" title="unity内容整理">unity内容整理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-26T08:34:52.000Z" title="发表于 2023-10-26 16:34:52">2023-10-26</time></span></div><div class="content">事件方法(委托)以一个例子来理解：
当场景生成阳光，玩家点击阳光后更新阳光数量，此时植物卡牌会根据当前阳光数量来刷新状态（有阳光有CD、有阳光无CD、无阳光有CD、无阳光无CD）
其中充当该功能实现的有两个类，在此期间使用了委托:
123456789101112131415161718192021222324252627282930public class PlayerManager : MonoBehaviour&#123;    public static PlayerManager Instance;    //阳光的数量    private int sunNum;    //阳光数量更新事件    private UnityAction sunUpdateAction;    private void Awake()    &#123;        Instance = this;    &#125;    private void Start()    &#123;        SunNum = 100;    &#125;    public int SunNum   ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/10/25/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/" title="unity开发日记（十四）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十四）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/25/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/" title="unity开发日记（十四）">unity开发日记（十四）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-25T05:35:15.000Z" title="发表于 2023-10-25 13:35:15">2023-10-25</time></span></div><div class="content">Unity开发日记(十四)暂停面板以及声音控制在unity界面上创建Panel容器：

然后在该容器下创建滑动条容器Slider：

通过滑条的该位置来调整数值，同时还能添加事件，从而实现我们通过滑条来修改游戏音乐：

回到unity界面上调出音频设置：

此时可以观察到之前设置的音频内容：

同时为了能够实现通过滑条来控制音量，则音频设置需要有暴露参数让其可以通过数值来修改音量：


在Audio Mixer下能够查看到我们暴露出来的参数，可以为其重命名方便管理

接着在音量控制脚本AudioManager下进行修改：

为了让音量控制脚本能够得到音量调整的参数(float类型)，所以在事件脚本文件夹·ScriptableObject下创建传递Float参数的事件FloatEventSO：


然后回到unity界面中，先在事件文件下创建该Float类型的事件，然后将其在滑动条容器下的事件进行绑定：


然后再次回到音量控制脚本AudioManager下进行修改，添加监听事件与要实现监听后的方法：


回到unity界面，检查可以发现，滑动条可以移动传递的float类型是在0-1之间 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/10/23/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/" title="unity开发日记（十三）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十三）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/23/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/" title="unity开发日记（十三）">unity开发日记（十三）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-23T07:04:58.000Z" title="发表于 2023-10-23 15:04:58">2023-10-23</time></span></div><div class="content">数据保存和加载实现”新的游戏”逻辑首先在场景脚本SceneLoader下进行细节的修改：


同时代码也要进行修改，初始不是在第一个场景，而是在主场景：

接下来就是实现新游戏启动的逻辑：
首先在事件文件夹Event下创建一个新的无参事件New Game Event，然后将其绑定在“新的游戏”按钮容器下：

随后回到场景加载容器下场景加载脚本SceneLoader进行事件的监听并实现相关逻辑：


再次回到unity界面为其事件进行绑定：

加载场景过程中显示UI信息先在事件文件夹下创建场景卸载事件ScenUnloaded Event SO，然后在UI界面控制容器的脚本组件下进行绑定：

然后在场景加载脚本SceneLoad下修改代码，使其在场景加载过程中(还是黑屏时)启用广播调整血条显示：


初始化玩家血量当进入新游戏时，要重新初始化玩家的血量(回满)，所以先回到角色容器下的角色属性脚本Character下进行修改：


最后回到unity上，为角色人物，怪物等身上绑定有属性脚本的都把该事件进行绑定：

PS：
我们添加了 New Game 函数在 Character 代码中，仍然 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/10/09/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="无题"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/09/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-09T01:51:59.089Z" title="发表于 2023-10-09 09:51:59">2023-10-09</time></span></div><div class="content">动态规划解题五部曲
dp数组以及下标含义
递推公式
dp数组初始化
遍历顺序
打印数组

斐波那契数题目：https://leetcode.cn/problems/fibonacci-number/
解题思路：
先进行五部曲分析：
1、dp数组以及下标含义——dp[i] 第i个斐波那契的dp[i]
2、递推公式
本题的斐波那契数本身的公式就是一个递推公式，即
dp[i] &#x3D; dp[i-1]+dp[i-2]
3、dp数组初始化
由于斐波那契数列本身的特性，相当于只有第一个和第二个是1，其他都是公式推算
4、遍历顺序
从前到后
5、打印输出
代码尝试：
1234567891011int fib(int n) &#123;	int dp[50] = &#123; 0 &#125;;	dp[0] = 0;	dp[1] = 1;	if (n == 0 &amp;&amp; n == 1)		return dp[n];	for (int i = 2; i &lt;= n; i++) &#123;		dp[i] = dp[i - 1] + dp[i - 2];	&#125;	return  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/09/25/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/" title="unity开发日记（十二）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十二）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/25/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89/" title="unity开发日记（十二）">unity开发日记（十二）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-25T12:27:17.000Z" title="发表于 2023-09-25 20:27:17">2023-09-25</time></span></div><div class="content">Unity开发日记(十二)场景转换首先将不同场景和持久化内容进行分隔开
不同场景分别是对应不同的Scence,而持久化内容则是角色、血条、摄像机、BGM等内容

人物可互动标识
宝箱

将宝箱素材切割后拖拽到场景中并进行相关设置：


互动按钮

将按钮素材切割后拖拽到角色下作为子物体组件并进行相关设置：

为按钮添加动画组件并实现动画效果，
先在Animation文件下创建存放界面交互动画文件夹UI，然后创建交互按钮的动画控制器并绑定给动画组件：


为按钮组件之上创建一个父容器，为父容器添加一个碰撞体积作为检测玩家有没有接近从而让按钮出现的效果：


然后创建场景互动脚本Sign并绑定到父容器上
同时创建新的标签来作为要启动的互动内容，并为需要互动的容器都选择该标签

然后在场景互动脚本Sign进行编辑

完成编辑后回到unity界面把子容器绑定在脚本上，从而实现代码逻辑能够操控子容器的开关：

经过测试，当人物向相反方向移动时，图标也会被翻转，所以还要进行修改：


同时还要设置图标的关闭，当玩家离开交互物体时不再显示图标：

进行动画的绑定，在进行之前，需要设定当用户是用键盘& ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/09/14/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" title="分治法"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="分治法"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/14/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" title="分治法">分治法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-14T05:09:35.000Z" title="发表于 2023-09-14 13:09:35">2023-09-14</time></span></div><div class="content">分治法二分法</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/09/13/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/" title="unity开发日记（十一）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十一）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/13/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/" title="unity开发日记（十一）">unity开发日记（十一）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-13T01:36:22.000Z" title="发表于 2023-09-13 09:36:22">2023-09-13</time></span></div><div class="content">Unity开发日记(十一)摄像机跟随首先下载一个摄像机跟随的工具，在unity界面上选择Window→Package Manager：

创建摄像机并绑定要跟随的对象：


同时还可以调整摄像机跟随的点位位置：

还可以设置缓冲边框，实现渐进效果

摄像机限制范围摄像机的区域要进行限制，以免在游玩过程中摄像机可以看到地图场景外的内容
首先在摄像机组件下进行设置：

查看添加的内容，我们需要为其绑定摄像机能够移动的范围：

所以先回到unity界面上设置一个空的容器并且添加新的2D碰撞体(要设置为 is Trigger)，然后画出我们需要的边界线，最后绑定上去：


设置自动绑定摄像机限制范围，从而实现当场景切换时相机也跟着切换且不越界
先创建一个Bounds图层并绑定Bounds容器：

然后在Utilities文件夹下创建摄像机控制脚本CameraController并将其绑定在摄像机容器上：


摄像机震动(攻击抖动)目的：实现人物被攻击时，摄像机会震动，从而达到一个比较好的动作游戏的表达效果
首先在摄像机的组件下添加新的Extensions

同时进行设置

而镜头的震动还需要有 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/09/12/%E9%80%92%E5%BD%92/" title="递归"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="递归"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/12/%E9%80%92%E5%BD%92/" title="递归">递归</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-12T03:13:43.000Z" title="发表于 2023-09-12 11:13:43">2023-09-12</time></span></div><div class="content">递归汉诺塔问题</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/09/06/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%EF%BC%89/" title="unity开发日记（十）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/06/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%EF%BC%89/" title="unity开发日记（十）">unity开发日记（十）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-06T06:07:26.000Z" title="发表于 2023-09-06 14:07:26">2023-09-06</time></span></div><div class="content">unity开发日记（十）滑墙及蹬墙跳的实现滑墙
动画部分

先处理蹬墙跳的动画素材，然后创建一个新的动画进行编辑：

然后创建需要的判断条件onWall并在动画控制器上进行连接：
跳跃(前提)→蹬墙跳

蹬墙跳→落地


代码部分

回到物理检测脚本PhysicsCheck上进行编辑：



然后到角色动画控制器脚本PlayerAnimation上进行编辑：

随后回到unity界面上进行测试，会发现一个问题：人物在滑墙的时候会一直不断地在滑墙动画和跳跃动画反复切换
所以要再回到动画控制器上给跳跃动画添加一个新的约束条件：

进行测试后会发现另外一个新的问题：当角色按住方向键再按跳跃键时不会有动画出现
所以要再回到物理检测脚本PhysicsCheck上进行修改：



同时为了限制滑墙下降的速度变慢，要回到角色控制器PlayerController下进行编辑：

细节修改：
回到unity界面上，切换scence界面查看会发现当人物进行滑墙跳的时候，由于碰撞体没有被改变，所以

人物还没完全滑下去的时候就先变成落地状态，回到物理检测脚本PhysicsCheck下进行修改：

然后回到u ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/09/01/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89/" title="unity开发日记（九）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（九）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/01/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89/" title="unity开发日记（九）">unity开发日记（九）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-01T04:33:30.000Z" title="发表于 2023-09-01 12:33:30">2023-09-01</time></span></div><div class="content">Unity开发日记（九）创建人物状态栏先到unity asset store下安装一个工具：https://assetstore.unity.com/packages/tools/utilities/colourful-hierarchy-category-gameobject-205934
回到unity中进行安装：


找到模组文件夹进行配置：

根据个人喜好进行配置，然后回到unity界面上查看效果
接下来就是创建人物状态栏
首先要创建UI内容：

完成创建后可以发现会自动给我们多创建了一个EventSystem，我们先查看到EventSystem并进行配置的更改：

查看Caven画布：

可以看出画布是独立于游戏画面的，这样可以避免不同设备ui界面不同
然后配置UI布局，选择根据我们的游戏场景来进行配置：


在画布下创建图片，同时设置锚点



通过Alt +shift键将图片定位到锚点处
锚点的作用：
通过W键来移动图片
编辑人物状态栏血条和能量条首先对UI界面的画面素材进行切割：


然后手动进行切割的调整并保存，将切割完成的动画放置并进行调整：
当设置好图片后可以点击 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/28/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89/" title="无题"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/28/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-28T02:30:40.923Z" title="发表于 2023-08-28 10:30:40">2023-08-28</time></span></div><div class="content">Unity开发日记（八）怪物——蜗牛蜗牛的基本移动逻辑和动画进行蜗牛动画的基本处理，对素材进行切割，对不同动画进行简易的命名处理，方便后续操作的管理：

蜗牛的动画主要有几个实现要求：

蜗牛的移动
蜗牛的缩壳
蜗牛的探头
蜗牛的受伤
蜗牛的死亡


进行基础的图层调整：

添加对应的碰撞体积，一个在脚上与地面进行检测，一个是自身碰撞体，方便与玩家进行交互：


同时蜗牛也要添加其他相对应的脚本文件，在此之前，先回到怪物的基类进行调整：

目的：当蜗牛创建新的脚本并且继承怪物基类时，会为蜗牛自动添加这三个必要的组件
在脚本文件夹Script下怪物文件夹Enemy创建蜗牛的脚本Snail:

然后回到unity中为蜗牛添加该脚本，与此同时也会自动被添加了三个必须的组件：


同时还要为蜗牛添加对应的属性脚本Character以及攻击脚本Attack,也要为事件编辑器绑定对应的脚本以及方法：


随后再调整蜗牛的一些基础数值：

同时蜗牛的地面检测脚本也要进行调整：

编写蜗牛的状态机与动画
蜗牛的巡逻状态：

在怪物文件夹下先创建蜗牛巡逻状态的脚本SnailPatrolState

回到 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/08/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/" title="unity开发日记（七）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（七）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/08/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/" title="unity开发日记（七）">unity开发日记（七）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-08T06:30:51.000Z" title="发表于 2023-08-08 14:30:51">2023-08-08</time></span></div><div class="content">Unity开发日记（七）有限状态机与抽象类多态创建一个抽象基类BaseState作为状态机


再创建一个编写野猪状态的类来实现抽象基类BoarPatrolState:
默认状态下会一直处于巡逻状态：

同时回到怪物基类Enemy进行修改：



最后还要回到野猪对应的脚本上进行初始化：

追击状态的转换修改物体碰撞检测(使用BoxCast)BoxCast描述：
沿射线投射盒体并返回有关命中对象的详细信息
追击状态的实现首先要先让怪物对象发现玩家对象，这时候就要用到碰撞检测，回到怪物基类Enemy下进行代码的修改，通过BoxCast方法来进行物体检测：


其中BoxCast中的各个参数作用和意义如图：

其次要编写状态切换方法（即 巡逻状态 → 发现敌人 →切换追击状态），首先回到unity界面上，在Scripts文件包下再创建一个工具包Utilities,在下边再创建一个新的脚本Enums：

在Enemy下编写切换状态的方法：
123456789101112131415161718192021222324 public void SwitchState(NPCState stat ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Chen</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">37</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>/前往博客</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Fourserives" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/05/17/%E5%9B%BE%E8%AE%BA/" title="图论"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="图论"/></a><div class="content"><a class="title" href="/2024/05/17/%E5%9B%BE%E8%AE%BA/" title="图论">图论</a><time datetime="2024-05-17T02:35:37.000Z" title="发表于 2024-05-17 10:35:37">2024-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/03/%E9%93%BE%E8%A1%A8/" title="链表"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="链表"/></a><div class="content"><a class="title" href="/2024/05/03/%E9%93%BE%E8%A1%A8/" title="链表">链表</a><time datetime="2024-05-03T02:30:26.000Z" title="发表于 2024-05-03 10:30:26">2024-05-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/20/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/" title="栈与队列"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="栈与队列"/></a><div class="content"><a class="title" href="/2024/04/20/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/" title="栈与队列">栈与队列</a><time datetime="2024-04-20T06:48:15.000Z" title="发表于 2024-04-20 14:48:15">2024-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/08/%E5%A7%94%E6%89%98%E4%B8%8E%E4%BA%8B%E4%BB%B6/" title="委托与事件"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="委托与事件"/></a><div class="content"><a class="title" href="/2024/03/08/%E5%A7%94%E6%89%98%E4%B8%8E%E4%BA%8B%E4%BB%B6/" title="委托与事件">委托与事件</a><time datetime="2024-03-08T05:46:13.000Z" title="发表于 2024-03-08 13:46:13">2024-03-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/06/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/" title="2D俯视游戏开发（三）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2D俯视游戏开发（三）"/></a><div class="content"><a class="title" href="/2024/03/06/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/" title="2D俯视游戏开发（三）">2D俯视游戏开发（三）</a><time datetime="2024-03-06T05:46:26.000Z" title="发表于 2024-03-06 13:46:26">2024-03-06</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">37</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-05-21T13:55:09.780Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Chen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="50" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>
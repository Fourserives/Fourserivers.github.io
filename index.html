<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>凡尘的个人博客 - 小视野看大世界</title><meta name="author" content="Chen"><meta name="copyright" content="Chen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="凡尘的个人博客">
<meta property="og:url" content="https://fourserives.github.io/index.html">
<meta property="og:site_name" content="凡尘的个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Chen">
<meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://fourserives.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '凡尘的个人博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-15 20:26:23'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/yx/wallhaven-yx83mg.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">凡尘的个人博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">凡尘的个人博客</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/Fourserives" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/08/%E5%A7%94%E6%89%98%E4%B8%8E%E4%BA%8B%E4%BB%B6/" title="委托与事件"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="委托与事件"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/08/%E5%A7%94%E6%89%98%E4%B8%8E%E4%BA%8B%E4%BB%B6/" title="委托与事件">委托与事件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-08T05:46:13.000Z" title="发表于 2024-03-08 13:46:13">2024-03-08</time></span></div><div class="content">委托委托的作用：

将函数作为函数的参数进行传递
声明事件并进行注册


无参无返回

1234567891011Pistol pis = new Pistol(Bullet); //初始要传入pis(); //启用委托pis.Invoke()//第二种方式（常用）//委托事件void Bullet()&#123;    Console.WriteLine(&quot;发射子弹&quot;);&#125;//定义委托类型      delegate 类型 函数(函数名(参数...))delegate void Pistol();

第一个问题：既然初始一定要传入，那委托必须为非空吗？
在解决这个问题之前，先继续探索委托的使用，在接下来的功能尝试下，就可以找到解决该问题的答案
123456789101112131415Pistol pis = new Pistol(Bullet);pis += Bullet; //可以通过 &quot;+=&quot; 符号来注册方法pis += Bullet2; //可以注册多个方法（一同使用）//pis();pis.Invoke();void Bul ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/06/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/" title="2D俯视游戏开发（三）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2D俯视游戏开发（三）"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/06/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/" title="2D俯视游戏开发（三）">2D俯视游戏开发（三）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-06T05:46:26.000Z" title="发表于 2024-03-06 13:46:26">2024-03-06</time></span></div><div class="content">人物属性人物血条人物血条大致要有内容：
血条GUI设计
角色属性脚本(血量健康、法力等)
首先要制作血条GUI的设计：
采取三层图层且挂钩于一个幕布容器下，通过一个父级幕布容器来管理三层图，从而来表达出血条(健康，受伤)状态

其中要注意的内容主要有：
1、画布缩放器(Canvas Scaler)的内容修改


2、GUI血条图层的细节


通过设置图片显示方式来实现接下来应该有的血量减少的效果
设计脚本针对人物血条这个功能，我们可以知道的是其至少要有三个对象内容：

造成伤害方（怪物&#x2F;其他）
玩家受伤（玩家属性）
血条变化（GUI）

基于此我们可以先定义好玩家的属性脚本(Character)
12345678public UnityEvent&lt;PlayerCharacter&gt; playerHealth;   void Start()   &#123;       maxHealth = 100f;       health = maxHealth;       playerHealth?.Invoke(this);   &#125;

其中，玩家的属性发生变化 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/27/%E8%83%8C%E5%8C%85%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/" title="背包系统开发"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="背包系统开发"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/27/%E8%83%8C%E5%8C%85%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/" title="背包系统开发">背包系统开发</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-27T03:50:03.000Z" title="发表于 2024-01-27 11:50:03">2024-01-27</time></span></div><div class="content">背包GUI设计最终效果：

一些实用内容：
1、取消按钮功能的实现 —— 直接绑定

2、背包格子的布局
最好创建一个子容器来对接下来各个格子进行排布，尤其是使用相关组件Grid Layout Group

3、单个物品格子独立设置成一个预制体(Prefab)
数据库存储需要用到的核心父类ScriptableObject

定义物品类（基类）

123456789101112131415[CreateAssetMenu(fileName = &quot;New Item&quot;,menuName = &quot;Inventory/Item&quot;)]public class Item : ScriptableObject&#123;    //物品名    public string itemName;    //物品贴图    public Sprite itemImage;    //物品数目    public int itemHeld;    //物品描述    [TextArea]    public string itemInfo;    //是否可以使用     ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/13/%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E9%9A%BE%E9%A2%98/" title="无题"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/13/%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E9%9A%BE%E9%A2%98/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-13T03:25:37.708Z" title="发表于 2024-01-13 11:25:37">2024-01-13</time></span></div><div class="content">同种交互物品不同交互内容描述：开发途中需要用到两个交互物体，一个物体要实现玩家交互后进行传送，另外一个物体要实现玩家开启后启用其他被隐藏起来的物品
定义交互的接口IInteractive：
1234public interface IInteractive&#123;    void achieveEvent();&#125;


交互物体1
123456789101112131415161718   //传送到达的地点   private static Vector2 endPos;   //传送的对象   public static GameObject player;  //实现交互功能   public void achieveEvent()   &#123;       //将玩家传送到指定目标点       player.transform.position = endPos;       if (obj != null)       &#123;           // 激活 obj           obj.SetActive(true);           // ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/12/10/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%BA%8C%EF%BC%89/" title="2D俯视游戏开发（二）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2D俯视游戏开发（二）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/10/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%BA%8C%EF%BC%89/" title="2D俯视游戏开发（二）">2D俯视游戏开发（二）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-10T12:04:31.000Z" title="发表于 2023-12-10 20:04:31">2023-12-10</time></span></div><div class="content">系列挑战描述：角色触发挑战后在指定位置刷新几个挑战点位，玩家要到达这些点位开启挑战任务，完成挑战任务后开启门扉
收集挑战描述：角色在指定位置开启挑战，开启后会在地图随机刷取收集物，角色收集完成收集物后回来完成收集目标
收集挑战的流程大致为：

开启挑战

无时间限制

有时间限制



生成收集物

生成方式


寻找收集物

返回提交 (需要背包系统)


收集物的刷新方式可以有
1）随机位置生成物品
2）指定位置生成物品（单点位，连续路径）
3）固定位置重复生成
生成收集物根据玩法不同，可以设置多种不同的收集物生成方式，这里举例三种方式：
1.随机位置生成
2.指定位置生成
3.固定位置重复生成
其中，随机位置生成类似星露谷的采集品，像一些野菜等随机生成在指定范围或者区域内
指定位置生成则比较普遍，比如一些固定点位必有的任务物品等
固定位置重复生成则类似传奇这种玄幻类游戏中采集草药等
开启挑战的石柱对应绑定的脚本内容：
123456789101112131415//要绑定的收集物统一父组件   public GameObject challenge;  //实现交互功能public ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/12/03/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%80%EF%BC%89/" title="2D俯视游戏开发（一）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2D俯视游戏开发（一）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/03/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%80%EF%BC%89/" title="2D俯视游戏开发（一）">2D俯视游戏开发（一）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-03T05:35:10.000Z" title="发表于 2023-12-03 13:35:10">2023-12-03</time></span></div><div class="content">俯视视角下人物的移动在2D俯视视角进行游戏创作，人物的移动应该要根据玩家操控的上下左右进而完成动画的变更与移动的实现
首先是动画的切换：
动画主要可以采取树(Bland Tree)的方式，通过设置x轴和y轴的数值(float或int类型)，由两种数值进行动画的切换


其次是运动的实现：
运动的实现需要有几个步骤

获取键盘输入
数值传递切换移动方向
移动方向施加力

12345678910111213141516171819202122232425262728293031323334void Update()&#123;    //获取横轴    float PosX = Input.GetAxisRaw(&quot;Horizontal&quot;);    //获取纵轴    float PosY = Input.GetAxisRaw(&quot;Vertical&quot;);    //动画切换    if(PosX != 0)    &#123;        animator.SetFloat(&quot;PosX&quot;, PosX);        animato ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/11/13/unity%E8%84%9A%E6%9C%AC/" title="unity脚本"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity脚本"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/11/13/unity%E8%84%9A%E6%9C%AC/" title="unity脚本">unity脚本</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-13T03:14:33.000Z" title="发表于 2023-11-13 11:14:33">2023-11-13</time></span></div><div class="content">2D应用对象相关对象生成

GameObject.Instantiate ： 单个对象生成

  参数构成：



original
要复制的现有对象。



position
新对象的位置。


rotation
新对象的方向。


parent
将指定给新对象的父对象。


instantiateInWorldSpace
When you assign a parent Object, pass true to position the new object directly in world space. Pass false to set the Object’s position relative to its new parent.


脚本API相关InvokeRepeating方法循环调用 —— InvokeRepeating
public void InvokeRepeating (string methodName, float time, float repeatRate);
描述：
在 time 秒后调用 methodName 方法，然后每 repeatRate ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/11/03/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/" title="无题"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/11/03/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-11-03T08:44:28.033Z" title="发表于 2023-11-03 16:44:28">2023-11-03</time></span></div><div class="content">回溯算法回溯算法适用的几个类型题目：

组合问题
分割问题
子集问题
排列问题
棋盘问题

回溯三部曲：

递归函数参数返回
确定终止条件
单层递归逻辑

回溯算法模板：
123456789101112void backtracking(参数) &#123;    if (终止条件) &#123;        存放结果;        return;    &#125;    for (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) &#123;        处理节点;        backtracking(路径，选择列表); // 递归        回溯，撤销处理结果    &#125;&#125;

数组题目：https://leetcode.cn/problems/combinations/
把组合问题抽象为如下树形结构：

可以看出这棵树，一开始集合是 1，2，3，4， 从左向右取数，取过的数，不再重复取。
第一次取1，集合变为2，3，4 ，因为k为2，我们只需要再取一个数就可以了，分别取2，3，4，得到集合[1,2] [1,3] [1,4]，以此类推。
每 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/10/27/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" title="无题"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/27/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-27T07:01:44.006Z" title="发表于 2023-10-27 15:01:44">2023-10-27</time></span></div><div class="content">贪心算法</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/10/26/unity%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/" title="unity内容整理"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity内容整理"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/26/unity%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/" title="unity内容整理">unity内容整理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-26T08:34:52.000Z" title="发表于 2023-10-26 16:34:52">2023-10-26</time></span></div><div class="content">事件方法(委托)以一个例子来理解：
当场景生成阳光，玩家点击阳光后更新阳光数量，此时植物卡牌会根据当前阳光数量来刷新状态（有阳光有CD、有阳光无CD、无阳光有CD、无阳光无CD）
其中充当该功能实现的有两个类，在此期间使用了委托:
123456789101112131415161718192021222324252627282930public class PlayerManager : MonoBehaviour&#123;    public static PlayerManager Instance;    //阳光的数量    private int sunNum;    //阳光数量更新事件    private UnityAction sunUpdateAction;    private void Awake()    &#123;        Instance = this;    &#125;    private void Start()    &#123;        SunNum = 100;    &#125;    public int SunNum   ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/10/25/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/" title="unity开发日记（十四）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十四）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/25/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89/" title="unity开发日记（十四）">unity开发日记（十四）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-25T05:35:15.000Z" title="发表于 2023-10-25 13:35:15">2023-10-25</time></span></div><div class="content">Unity开发日记(十四)暂停面板以及声音控制在unity界面上创建Panel容器：

然后在该容器下创建滑动条容器Slider：

通过滑条的该位置来调整数值，同时还能添加事件，从而实现我们通过滑条来修改游戏音乐：

回到unity界面上调出音频设置：

此时可以观察到之前设置的音频内容：

同时为了能够实现通过滑条来控制音量，则音频设置需要有暴露参数让其可以通过数值来修改音量：


在Audio Mixer下能够查看到我们暴露出来的参数，可以为其重命名方便管理

接着在音量控制脚本AudioManager下进行修改：

为了让音量控制脚本能够得到音量调整的参数(float类型)，所以在事件脚本文件夹·ScriptableObject下创建传递Float参数的事件FloatEventSO：


然后回到unity界面中，先在事件文件下创建该Float类型的事件，然后将其在滑动条容器下的事件进行绑定：


然后再次回到音量控制脚本AudioManager下进行修改，添加监听事件与要实现监听后的方法：


回到unity界面，检查可以发现，滑动条可以移动传递的float类型是在0-1之间 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/10/23/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/" title="unity开发日记（十三）"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity开发日记（十三）"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/10/23/unity%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89/" title="unity开发日记（十三）">unity开发日记（十三）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-10-23T07:04:58.000Z" title="发表于 2023-10-23 15:04:58">2023-10-23</time></span></div><div class="content">数据保存和加载实现”新的游戏”逻辑首先在场景脚本SceneLoader下进行细节的修改：


同时代码也要进行修改，初始不是在第一个场景，而是在主场景：

接下来就是实现新游戏启动的逻辑：
首先在事件文件夹Event下创建一个新的无参事件New Game Event，然后将其绑定在“新的游戏”按钮容器下：

随后回到场景加载容器下场景加载脚本SceneLoader进行事件的监听并实现相关逻辑：


再次回到unity界面为其事件进行绑定：

加载场景过程中显示UI信息先在事件文件夹下创建场景卸载事件ScenUnloaded Event SO，然后在UI界面控制容器的脚本组件下进行绑定：

然后在场景加载脚本SceneLoad下修改代码，使其在场景加载过程中(还是黑屏时)启用广播调整血条显示：


初始化玩家血量当进入新游戏时，要重新初始化玩家的血量(回满)，所以先回到角色容器下的角色属性脚本Character下进行修改：


最后回到unity上，为角色人物，怪物等身上绑定有属性脚本的都把该事件进行绑定：

PS：
我们添加了 New Game 函数在 Character 代码中，仍然 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Chen</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>/前往博客</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Fourserives" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/08/%E5%A7%94%E6%89%98%E4%B8%8E%E4%BA%8B%E4%BB%B6/" title="委托与事件"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="委托与事件"/></a><div class="content"><a class="title" href="/2024/03/08/%E5%A7%94%E6%89%98%E4%B8%8E%E4%BA%8B%E4%BB%B6/" title="委托与事件">委托与事件</a><time datetime="2024-03-08T05:46:13.000Z" title="发表于 2024-03-08 13:46:13">2024-03-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/06/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/" title="2D俯视游戏开发（三）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2D俯视游戏开发（三）"/></a><div class="content"><a class="title" href="/2024/03/06/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/" title="2D俯视游戏开发（三）">2D俯视游戏开发（三）</a><time datetime="2024-03-06T05:46:26.000Z" title="发表于 2024-03-06 13:46:26">2024-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/27/%E8%83%8C%E5%8C%85%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/" title="背包系统开发"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="背包系统开发"/></a><div class="content"><a class="title" href="/2024/01/27/%E8%83%8C%E5%8C%85%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/" title="背包系统开发">背包系统开发</a><time datetime="2024-01-27T03:50:03.000Z" title="发表于 2024-01-27 11:50:03">2024-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/13/%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E9%9A%BE%E9%A2%98/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/01/13/%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E9%9A%BE%E9%A2%98/" title="无题">无题</a><time datetime="2024-01-13T03:25:37.708Z" title="发表于 2024-01-13 11:25:37">2024-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/10/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%BA%8C%EF%BC%89/" title="2D俯视游戏开发（二）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/vg/wallhaven-vglkw3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2D俯视游戏开发（二）"/></a><div class="content"><a class="title" href="/2023/12/10/2D%E4%BF%AF%E8%A7%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%EF%BC%88%E4%BA%8C%EF%BC%89/" title="2D俯视游戏开发（二）">2D俯视游戏开发（二）</a><time datetime="2023-12-10T12:04:31.000Z" title="发表于 2023-12-10 20:04:31">2023-12-10</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">34</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-15T12:26:23.281Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Chen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="50" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>